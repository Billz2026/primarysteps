<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Number Tracing • Primary Steps</title>
<style>
  :root{
    --bg0:#071021; --bg1:#0b1730; --card:#0f2344; --card2:#0d1c36;
    --text:#eaf1ff; --muted:rgba(234,241,255,.75);
    --line:rgba(234,241,255,.14); --accent:#66d0ff; --accent2:#9bffb6;
    --shadow:0 18px 40px rgba(0,0,0,.35);
    --r:18px;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  }
  body{
    margin:0; color:var(--text);
    background: radial-gradient(1200px 700px at 20% 10%, rgba(102,208,255,.18), transparent 55%),
                radial-gradient(900px 600px at 80% 0%, rgba(155,255,182,.14), transparent 55%),
                linear-gradient(180deg, var(--bg0), var(--bg1));
    min-height:100vh;
  }
  header{
    position:sticky; top:0; z-index:10;
    backdrop-filter: blur(10px);
    background: rgba(7,16,33,.72);
    border-bottom:1px solid var(--line);
  }
  .wrap{max-width:1100px;margin:0 auto;padding:14px 16px;}
  .top{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
  }
  .brand{display:flex; align-items:center; gap:10px; min-width:0;}
  .brand img{height:52px;width:auto;display:block;}
  .brand .title{font-weight:800; letter-spacing:.2px; font-size:16px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
  nav{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;}
  nav a{
    color:var(--text); text-decoration:none; font-weight:650; font-size:13px;
    padding:8px 10px; border-radius:12px;
    border:1px solid transparent;
    opacity:.92;
  }
  nav a:hover{border-color:var(--line); background:rgba(255,255,255,.04); opacity:1;}
  .hero{padding:22px 16px 10px;}
  .hwrap{max-width:1100px;margin:0 auto;}
  h1{margin:0 0 6px; font-size:32px; letter-spacing:-.4px;}
  p.lead{margin:0; color:var(--muted); max-width:70ch;}
  .grid{
    max-width:1100px; margin:14px auto 28px; padding:0 16px;
    display:grid; grid-template-columns: 1.15fr .85fr; gap:14px;
  }
  @media (max-width: 980px){ .grid{grid-template-columns:1fr; } nav{justify-content:flex-start;} }
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
    border:1px solid var(--line);
    border-radius:var(--r);
    box-shadow: var(--shadow);
    overflow:hidden;
  }
  .card .head{
    padding:14px 14px 10px;
    border-bottom:1px solid var(--line);
    display:flex; align-items:center; justify-content:space-between; gap:10px;
  }
  .pill{
    font-size:12px; font-weight:800;
    padding:6px 10px; border-radius:999px;
    background: rgba(102,208,255,.14);
    border:1px solid rgba(102,208,255,.25);
    color: var(--text);
    white-space:nowrap;
  }
  .card .body{padding:14px;}
  .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center;}
  .btn{
    appearance:none; border:1px solid var(--line);
    background: rgba(255,255,255,.05);
    color:var(--text); font-weight:800;
    padding:10px 12px; border-radius:14px;
    cursor:pointer;
  }
  .btn:hover{background: rgba(255,255,255,.08);}
  .btn.primary{
    border-color: rgba(102,208,255,.35);
    background: linear-gradient(180deg, rgba(102,208,255,.18), rgba(102,208,255,.07));
  }
  .btn.good{
    border-color: rgba(155,255,182,.35);
    background: linear-gradient(180deg, rgba(155,255,182,.18), rgba(155,255,182,.06));
  }
  .stat{
    display:flex; align-items:center; gap:10px;
    padding:10px 12px; border-radius:14px;
    border:1px dashed rgba(234,241,255,.22);
    color: var(--muted);
  }
  .bigNum{
    font-size:84px; font-weight:900; letter-spacing:-2px; line-height:1;
    text-shadow: 0 10px 30px rgba(0,0,0,.35);
  }
  .hint{color:var(--muted); font-size:13px; margin-top:8px;}
  .canvasWrap{
    display:grid; grid-template-columns: 1fr; gap:10px;
  }
  canvas{
    width:100%; height:360px;
    background: radial-gradient(900px 500px at 10% 0%, rgba(102,208,255,.10), transparent 60%),
                linear-gradient(180deg, rgba(13,28,54,.65), rgba(13,28,54,.35));
    border:1px solid var(--line);
    border-radius:16px;
    touch-action:none;
  }
  .small{font-size:12px;color:var(--muted);}
  .kbd{
    font-weight:900; border:1px solid rgba(234,241,255,.18); padding:2px 6px; border-radius:8px;
    background: rgba(255,255,255,.04); color:var(--text);
  }
</style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <img src="assets/logo.png" alt="Primary Steps logo" onerror="this.style.display='none'">
        <div class="title">Primary Steps</div>
      </div>
      <nav aria-label="Primary">
        <a href="index.html">Home</a>
        <a href="letters.html">Letters</a>
        <a href="numbers.html" style="border-color:rgba(102,208,255,.35);background:rgba(102,208,255,.10);">Numbers</a>
        <a href="phonics.html">Phonics</a>
        <a href="maths.html">Maths</a>
        <a href="memory.html">Memory</a>
        <a href="progress.html">Progress</a>
        <a href="settings.html">Settings</a>
      </nav>
    </div>
  </div>
</header>

<section class="hero">
  <div class="hwrap">
    <h1>Number Tracing</h1>
    <p class="lead">Trace calmly with a big guide number. Use <span class="kbd">Clear</span> if you need a fresh start, then tap <span class="kbd">Next</span> to move on.</p>
  </div>
</section>

<section class="grid">
  <div class="card">
    <div class="head">
      <div class="pill">Trace on the board</div>
      <div class="row">
        <button class="btn" id="clearBtn">Clear</button>
        <button class="btn primary" id="prevBtn">Prev</button>
        <button class="btn primary" id="nextBtn">Next</button>
      </div>
    </div>
    <div class="body">
      <div class="canvasWrap">
        <div class="bigNum" id="guideNum">0</div>
        <canvas id="pad" width="1200" height="720" aria-label="Drawing pad"></canvas>
        <div class="small">Tip: use finger on tablet, or mouse on desktop.</div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="head">
      <div class="pill">Options</div>
    </div>
    <div class="body">
      <div class="row" style="margin-bottom:10px;">
        <button class="btn good" id="soundBtn" aria-pressed="false">Sound: Off</button>
        <button class="btn" id="thinBtn">Pen: Thin</button>
        <button class="btn" id="thickBtn">Pen: Thick</button>
      </div>
      <div class="stat" style="margin-bottom:10px;">
        <div><strong>Goal</strong><div class="small">Stay relaxed + follow the shape.</div></div>
      </div>
      <div class="hint">
        This is a calm practice tool (no “auto-skip”). Take your time, then press <strong>Next</strong>.
      </div>
    </div>
  </div>
</section>

<script>
(() => {
  const nums = [...Array(10).keys()]; // 0-9
  let idx = 0;

  const guide = document.getElementById('guideNum');
  const canvas = document.getElementById('pad');
  const ctx = canvas.getContext('2d');

  let drawing = false;
  let last = null;
  let lineW = 14;

  function setGuide() {
    guide.textContent = String(nums[idx]);
  }

  function clear() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
  }

  function pos(e){
    const r = canvas.getBoundingClientRect();
    const x = (e.clientX - r.left) * (canvas.width / r.width);
    const y = (e.clientY - r.top) * (canvas.height / r.height);
    return {x,y};
  }

  function start(e){
    drawing = true;
    last = pos(e);
  }

  function move(e){
    if(!drawing) return;
    const p = pos(e);
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    ctx.strokeStyle = 'rgba(234,241,255,.92)';
    ctx.lineWidth = lineW;
    ctx.beginPath();
    ctx.moveTo(last.x, last.y);
    ctx.lineTo(p.x, p.y);
    ctx.stroke();
    last = p;
  }

  function end(){
    drawing = false;
    last = null;
  }

  // Pointer events
  canvas.addEventListener('pointerdown', (e)=>{ canvas.setPointerCapture(e.pointerId); start(e); });
  canvas.addEventListener('pointermove', move);
  canvas.addEventListener('pointerup', end);
  canvas.addEventListener('pointercancel', end);
  canvas.addEventListener('pointerleave', end);

  // Buttons
  document.getElementById('clearBtn').addEventListener('click', clear);
  document.getElementById('prevBtn').addEventListener('click', ()=>{ idx = (idx + nums.length - 1) % nums.length; setGuide(); clear(); });
  document.getElementById('nextBtn').addEventListener('click', ()=>{ idx = (idx + 1) % nums.length; setGuide(); clear(); });

  document.getElementById('thinBtn').addEventListener('click', ()=> lineW = 10);
  document.getElementById('thickBtn').addEventListener('click', ()=> lineW = 18);

  // Optional gentle sound (tiny click)
  const soundBtn = document.getElementById('soundBtn');
  let soundOn = false;
  let audioCtx = null;

  function clickSound(){
    if(!soundOn) return;
    if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.frequency.value = 660;
    g.gain.value = 0.03;
    o.connect(g); g.connect(audioCtx.destination);
    o.start();
    setTimeout(()=>{ o.stop(); }, 60);
  }

  soundBtn.addEventListener('click', ()=>{
    soundOn = !soundOn;
    soundBtn.setAttribute('aria-pressed', String(soundOn));
    soundBtn.textContent = 'Sound: ' + (soundOn ? 'On' : 'Off');
    clickSound();
  });

  // add sound on button presses too
  ['clearBtn','prevBtn','nextBtn','thinBtn','thickBtn'].forEach(id=>{
    document.getElementById(id).addEventListener('click', clickSound);
  });

  // init
  setGuide();
})();
</script>
</body>
</html>
