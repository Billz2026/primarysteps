<!doctype html>
<html lang="en">
<head><title>Numbers ‚Ä¢ Primary Steps</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#1f78ff">
<link rel="icon" type="image/png" href="assets/primary-steps-icon-512.png">
<style>
:root{
  --bg:#f5fbff;
  --panel:#ffffff;
  --ink:#0b1b33;
  --muted:#4b6488;
  --blue:#1f78ff;
  --blue2:#0f5fe6;
  --stroke: rgba(31,120,255,.18);
  --shadow: 0 18px 50px rgba(16, 60, 120, .14);
  --shadow2: 0 10px 26px rgba(16, 60, 120, .10);
  --r: 18px;
  --max: 1100px;
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:var(--font);
  color:var(--ink);
  background:
    radial-gradient(900px 360px at 30% -10%, rgba(31,120,255,.14), transparent 55%),
    radial-gradient(900px 360px at 85% 10%, rgba(31,120,255,.10), transparent 55%),
    linear-gradient(180deg, var(--bg), #eaf4ff);
}
a{color:inherit}
.container{width:min(var(--max), 92vw); margin:0 auto; padding:18px 0 60px;}
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 14px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.72);
  backdrop-filter: blur(10px);
  border-radius: 22px;
  box-shadow: var(--shadow2);
  position: sticky;
  top: 10px;
  z-index: 20;
}
.brand{display:flex; align-items:center; gap:12px; min-width:0;}
.brand img{
  height: 34px;
  width:auto;
  display:block;
  filter: drop-shadow(0 10px 18px rgba(16,60,120,.16));
}

.brand{
  position: relative;
}
.brand::before{
  content:"";
  position:absolute;
  left: -14px;
  top: -14px;
  width: 132px;
  height: 132px;
  border-radius: 999px;
  background: radial-gradient(circle at 35% 30%, rgba(31,120,255,.22), rgba(31,120,255,0) 62%);
  filter: blur(6px);
  pointer-events:none;
  z-index: 0;
}
.brand a, .brandLink, .brandText, .brand img{ position: relative; z-index: 1; }

.tagline{
  font-weight: 980;
  letter-spacing: .2px;
  color: rgba(11,27,51,.88);
  font-size: 1.18rem;
}
@media (max-width: 560px){
  .tagline{ font-size: 1.02rem; }
}

@media (max-width: 560px){
  .brand::before{
    width: 110px;
    height: 110px;
    left: -10px;
    top: -10px;
    background: radial-gradient(circle at 35% 30%, rgba(31,120,255,.18), rgba(31,120,255,0) 62%);
  }
}
.brand .title{margin:0; font-weight:950; letter-spacing:.2px; font-size:1.05rem;}
.brand .tag{margin:2px 0 0; color:var(--muted); font-weight:700; font-size:.92rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.actions{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end;}
.pill{
  display:inline-flex; align-items:center; gap:8px;
  height:40px; padding:0 14px;
  border-radius:999px;
  border:1px solid rgba(31,120,255,.18);
  background: rgba(255,255,255,.70);
  font-weight:900;
  text-decoration:none;
  box-shadow: 0 10px 22px rgba(16,60,120,.07);
  transition:.16s ease;
}
.pill:hover{transform: translateY(-1px); border-color: rgba(31,120,255,.30);}
.pill.primary{
  background: linear-gradient(180deg, var(--blue), var(--blue2));
  color:#fff;
  border-color: rgba(31,120,255,.35);
  box-shadow: 0 16px 30px rgba(16,60,120,.16);
}
.page{
  margin-top:16px;
  padding:22px;
  border-radius: 24px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.78);
  box-shadow: var(--shadow);
}
.breadcrumb{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:10px;}
.breadcrumb a{color: var(--blue2); font-weight:900; text-decoration:none;}
.breadcrumb a:hover{text-decoration: underline; text-underline-offset: 4px;}
.grid2{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:12px;
}
.card{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:16px 16px;
  border-radius: var(--r);
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.85);
  box-shadow: var(--shadow2);
  text-decoration:none;
  transition: .16s ease;
  cursor:pointer;
  position:relative;
}
.card:hover{transform: translateY(-2px); border-color: rgba(31,120,255,.30);}
.card:active{transform: translateY(0);}
.left{display:flex; align-items:center; gap:12px; min-width:0;}
.ico{
  width:44px; height:44px; border-radius:14px;
  display:grid; place-items:center;
  background: rgba(31,120,255,.10);
  border:1px solid rgba(31,120,255,.18);
  font-size: 1.15rem;
}
.meta{min-width:0}
.meta .name{margin:0; font-weight:950; letter-spacing:.2px; font-size:1.05rem;}
.meta .desc{margin:2px 0 0; color:var(--muted); font-weight:700; font-size:.92rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
.badge{
  height:36px; padding:0 16px;
  border-radius:999px;
  background: rgba(18,51,95,.92);
  color:#fff;
  font-weight:900;
  display:inline-flex; align-items:center; justify-content:center;
}
.playArea{
  margin-top:14px;
  border:1px solid var(--stroke);
  border-radius: 24px;
  padding:14px;
  background: rgba(255,255,255,.70);
  box-shadow: var(--shadow2);
}
.footer{margin-top:18px; text-align:center; color: rgba(11,27,51,.55); font-weight:750;}
@media (max-width: 980px){ .grid2{grid-template-columns: 1fr;} }
@media (max-width: 560px){
  .brand img{height:60px;}

  .container{width:min(var(--max), 94vw);}
  .brand img{
  height: 84px;
}
  .meta .desc{white-space:normal;}
  .actions{width:100%; justify-content:flex-start;}
}
@media (prefers-reduced-motion: reduce){
  *{scroll-behavior:auto !important}
}
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
    <a href="index.html" class="brandLink" aria-label="Primary Steps home" style="display:flex; align-items:center; gap:14px; text-decoration:none;">
      <img src="assets/primary-steps-logo.png" alt="Primary Steps logo" onerror="this.style.display='none'">
      <div class="brandText" style="display:flex; flex-direction:column; line-height:1.05;">
        <div class="tagline">Fun Learning for Primary School Children</div>
      </div>
    </a>
  </div>
      </div>
      <div class="actions">
        <span class="pill" style="cursor:default">‚≠ê <span id="starsCount">0</span> stars</span>
        <a class="pill" href="settings.html">Settings</a>
        <a class="pill primary" href="index.html">Home</a>
      </div>
    </header>

    <section class="page" id="numbersPage">
      <div class="breadcrumb"><a href="index.html">‚Üê Back to Home</a></div>

      <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap">
        <div style="min-width:260px;flex:1 1 420px">
          <h2 style="margin:0 0 6px; font-weight:980; letter-spacing:.2px;">üî¢ Numbers</h2>
          <p style="margin:0; color:var(--muted); font-weight:750; line-height:1.5;">
            Practice counting and number recognition with quick mini-games.
          </p>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
          <button class="pill" id="soundToggle" type="button" aria-pressed="false" title="Sound is coming soon">
            üîá Sound: Off
          </button>
          <button class="pill primary" id="resetBtn" type="button" title="Reset this page (keeps total stars)">
            Reset activity
          </button>
        </div>
      </div>

      <!-- Activity Launcher -->
      <div class="grid2">
        <button class="card" id="launchCount" type="button" aria-controls="playArea" aria-label="Play Count & Choose">
          <div class="left">
            <div class="ico" aria-hidden="true">üü¶</div>
            <div class="meta">
              <p class="name">Count & Choose</p>
              <p class="desc">Count the dots and pick the right number</p>
            </div>
          </div>
          <span class="badge">Play</span>
        </button>

        <button class="card" id="launchFindNum" type="button" aria-controls="playArea" aria-label="Play Find the Number">
          <div class="left">
            <div class="ico" aria-hidden="true">üéØ</div>
            <div class="meta">
              <p class="name">Find the Number</p>
              <p class="desc">Tap the correct number from a few choices</p>
            </div>
          </div>
          <span class="badge">Play</span>
        </button>
      </div>

      <!-- Play Area -->
      <div class="playArea" id="playArea">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap">
          <div>
            <p id="activityTitle" style="margin:0; font-weight:950;">Select an activity</p>
            <p id="activitySub" style="margin:4px 0 0; color:var(--muted); font-weight:750;">Pick a game above to start.</p>
          </div>

          <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
            <div style="display:flex;gap:8px;align-items:center">
              <span style="font-weight:900;color:var(--muted)">Difficulty</span>
              <div style="display:flex;gap:8px;flex-wrap:wrap">
                <button class="pill" id="diffEasy" type="button" aria-pressed="true">Easy (1‚Äì5)</button>
                <button class="pill" id="diffHard" type="button" aria-pressed="false">Hard (1‚Äì10)</button>
              </div>
            </div>
            <span class="pill" style="cursor:default">‚≠ê Session: <span id="sessionStars">0</span></span>
          </div>
        </div>

        <div id="activityBody" style="margin-top:12px; display:grid; gap:12px;">
          <div style="padding:12px;border-radius:18px;border:1px dashed rgba(31,120,255,.28);color:var(--muted);font-weight:750;">
            Tip: Start on Easy. When it‚Äôs comfortable, switch to Hard for 1‚Äì10.
          </div>
        </div>
      </div>

      <!-- Earn a star (global) -->
      <div style="margin-top:14px; display:grid; gap:12px;">
        <div style="border:1px solid var(--stroke); border-radius: var(--r); padding:14px; background: rgba(255,255,255,.70); box-shadow: var(--shadow2);">
          <p style="margin:0 0 8px; font-weight:900;">Quick tips</p>
          <ul style="margin:0; padding-left:18px; color:var(--muted); font-weight:750; line-height:1.55;">
            <li>Point and count together out loud.</li>
            <li>If it‚Äôs tricky, go back to smaller numbers.</li>
            <li>Stop while it‚Äôs still fun.</li>
          </ul>
        </div>

        <div class="card" style="cursor:default;">
          <div class="left">
            <div class="ico" aria-hidden="true">‚≠ê</div>
            <div class="meta">
              <p class="name">Earn a star</p>
              <p class="desc">Tap when you finish a small goal</p>
            </div>
          </div>
          <button class="badge" id="starBtn" type="button" style="border:none; cursor:pointer;">Add ‚≠ê</button>
        </div>
      </div>
    </section>

    <div class="footer">¬© 2025 Primary Steps</div>
  </div>

<script>
/* Primary Steps ‚Äî Numbers (Step 2: first real activities) */
(function(){
  // ---------- Total stars (shared across site) ----------
  function getTotalStars(){ return Number(localStorage.getItem("ps_stars") || "0"); }
  function setTotalStars(n){ localStorage.setItem("ps_stars", String(n)); }
  function refreshTopStars(){
    var top = document.getElementById("starsCount");
    if(top) top.textContent = String(getTotalStars());
  }
  refreshTopStars();

  var starBtn = document.getElementById("starBtn");
  if(starBtn){
    starBtn.addEventListener("click", function(){
      var n = getTotalStars() + 1;
      setTotalStars(n);
      refreshTopStars();
      starBtn.textContent = "Added! ‚≠ê";
      setTimeout(function(){ starBtn.textContent = "Add ‚≠ê"; }, 900);
    });
  }

  // ---------- Session stars ----------
  var sessionStarsEl = document.getElementById("sessionStars");
  var sessionStars = 0;
  function addSessionStar(){
    sessionStars += 1;
    if(sessionStarsEl) sessionStarsEl.textContent = String(sessionStars);
  }
  function resetSession(){
    sessionStars = 0;
    if(sessionStarsEl) sessionStarsEl.textContent = "0";
  }

  // ---------- Sound toggle placeholder ----------
  var soundBtn = document.getElementById("soundToggle");
  if(soundBtn){
    var pref = localStorage.getItem("ps_sound") || "off";
    function renderSound(){
      soundBtn.setAttribute("aria-pressed", String(pref === "on"));
      soundBtn.textContent = (pref === "on") ? "üîä Sound: On" : "üîá Sound: Off";
      soundBtn.title = "Sound is coming soon ‚Äî this button saves your preference";
    }
    renderSound();
    soundBtn.addEventListener("click", function(){
      pref = (pref === "on") ? "off" : "on";
      localStorage.setItem("ps_sound", pref);
      renderSound();
    });
  }

  // ---------- Difficulty (range) ----------
  var easyBtn = document.getElementById("diffEasy");
  var hardBtn = document.getElementById("diffHard");
  var maxNum = Number(localStorage.getItem("ps_numbers_max") || "5"); // 5 or 10

  function setDifficultyMax(n){
    maxNum = n;
    localStorage.setItem("ps_numbers_max", String(n));
    if(easyBtn) easyBtn.setAttribute("aria-pressed", String(n === 5));
    if(hardBtn) hardBtn.setAttribute("aria-pressed", String(n === 10));
    // restart current activity
    if(currentActivity === "count") startCount();
    if(currentActivity === "find") startFindNumber();
  }

  if(easyBtn) easyBtn.addEventListener("click", function(){ setDifficultyMax(5); });
  if(hardBtn) hardBtn.addEventListener("click", function(){ setDifficultyMax(10); });
  setDifficultyMax(maxNum);

  // ---------- Helpers ----------
  var body = document.getElementById("activityBody");
  var title = document.getElementById("activityTitle");
  var sub = document.getElementById("activitySub");
  var resetBtn = document.getElementById("resetBtn");

  function setHeader(t, s){
    if(title) title.textContent = t;
    if(sub) sub.textContent = s;
  }
  function clearBody(){ if(body) body.innerHTML = ""; }

  function el(tag, attrs, children){
    var node = document.createElement(tag);
    if(attrs){
      Object.keys(attrs).forEach(function(k){
        if(k === "class") node.className = attrs[k];
        else if(k === "html") node.innerHTML = attrs[k];
        else node.setAttribute(k, attrs[k]);
      });
    }
    (children || []).forEach(function(c){
      if(typeof c === "string") node.appendChild(document.createTextNode(c));
      else node.appendChild(c);
    });
    return node;
  }

  function randInt(min, max){ return Math.floor(Math.random() * (max - min + 1)) + min; }

  function shimmer(node){
    node.animate([
      { transform:"translateY(0)", boxShadow:"0 10px 22px rgba(16,60,120,.07)" },
      { transform:"translateY(-1px)", boxShadow:"0 16px 30px rgba(16,60,120,.12)" },
      { transform:"translateY(0)", boxShadow:"0 10px 22px rgba(16,60,120,.07)" }
    ], { duration: 260, iterations: 1, easing:"ease-out" });
  }
  function shake(node){
    node.animate([
      { transform:"translateX(0)" },
      { transform:"translateX(-6px)" },
      { transform:"translateX(6px)" },
      { transform:"translateX(-4px)" },
      { transform:"translateX(4px)" },
      { transform:"translateX(0)" }
    ], { duration: 240, iterations: 1, easing:"ease-out" });
  }

  // ---------- Activities ----------
  var currentActivity = null;

  // Count & Choose
  var targetCount = 3;
  var streak = 0;

  function drawDots(n){
    // Build a simple responsive "dot board" using divs.
    var wrap = el("div", {
      style: "display:grid;grid-template-columns: repeat(5, minmax(0,1fr));gap:10px;align-items:center;justify-items:center;padding:12px;border-radius:18px;border:1px solid var(--stroke);background:rgba(255,255,255,.78);"
    });
    for(var i=0;i<n;i++){
      var dot = el("div", {
        style: "width:40px;height:40px;border-radius:14px;background: rgba(31,120,255,.14);border:1px solid rgba(31,120,255,.22);box-shadow: 0 10px 22px rgba(16,60,120,.07);"
      });
      wrap.appendChild(dot);
    }
    return wrap;
  }

  function newCountRound(){
    targetCount = randInt(1, maxNum);
    streakInfo.textContent = "Streak: " + streak + " / 3";

    dotsHolder.innerHTML = "";
    dotsHolder.appendChild(drawDots(targetCount));

    // Build number choices: correct + 2 random
    var options = [targetCount];
    while(options.length < 3){
      var r = randInt(1, maxNum);
      if(options.indexOf(r) === -1) options.push(r);
    }
    // shuffle
    for(var i=options.length-1;i>0;i--){
      var j = Math.floor(Math.random()*(i+1));
      var tmp = options[i]; options[i]=options[j]; options[j]=tmp;
    }

    choices.innerHTML = "";
    options.forEach(function(num){
      var b = el("button", {
        type:"button",
        class:"card",
        style:"justify-content:center; padding:18px; text-align:center; min-height:72px; font-size:1.6rem; font-weight:980;"
      }, [String(num)]);
      b.addEventListener("click", function(){
        if(num === targetCount){
          shimmer(b);
          streak += 1;
          if(streak >= 3){
            addSessionStar();
            streak = 0;
          }
          newCountRound();
        }else{
          shake(b);
          streak = 0;
          streakInfo.textContent = "Streak: " + streak + " / 3";
        }
      });
      choices.appendChild(b);
    });
  }

  var dotsHolder, choices, streakInfo;

  function startCount(){
    currentActivity = "count";
    resetSession();
    streak = 0;

    setHeader("Count & Choose", "Count the dots. Pick the right number. Get 3 in a row to earn a session star.");
    clearBody();

    var top = el("div", {
      style:"display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;padding:12px;border-radius:18px;border:1px solid var(--stroke);background:rgba(255,255,255,.78);"
    }, [
      el("div", {}, [
        el("div", {style:"font-weight:980;font-size:1.05rem;"}, ["Count the dots"]),
        (streakInfo = el("div", {style:"margin-top:4px;color:var(--muted);font-weight:750;font-size:.92rem;"}, ["Streak: 0 / 3"]))
      ]),
      el("button", {class:"pill primary", type:"button", id:"nextCount"}, ["New set"])
    ]);

    dotsHolder = el("div", {style:"display:grid;gap:10px;"});
    choices = el("div", {style:"display:grid;grid-template-columns: repeat(3, minmax(0,1fr));gap:10px;"});

    body.appendChild(top);
    body.appendChild(dotsHolder);
    body.appendChild(choices);
    body.appendChild(el("div", {style:"color:var(--muted);font-weight:750;font-size:.92rem;"}, [
      "Tip: Count slowly and point at each dot."
    ]));

    newCountRound();

    var nextBtn = document.getElementById("nextCount");
    if(nextBtn){
      nextBtn.addEventListener("click", function(){
        streak = 0;
        newCountRound();
      });
    }
  }

  // Find the Number
  var targetNumber = 1;

  function startFindNumber(){
    currentActivity = "find";
    resetSession();
    streak = 0;

    setHeader("Find the Number", "Tap the correct number. Get 3 in a row to earn a session star.");
    clearBody();

    var pool = [];
    for(var i=1;i<=maxNum;i++) pool.push(i);
    targetNumber = pool[Math.floor(Math.random()*pool.length)];

    var prompt = el("div", {
      style:"display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;padding:12px;border-radius:18px;border:1px solid var(--stroke);background:rgba(255,255,255,.78);"
    }, [
      el("div", {}, [
        el("div", {style:"font-weight:980;font-size:1.15rem;"}, ["Find: ", String(targetNumber)]),
        (streakInfo = el("div", {style:"margin-top:4px;color:var(--muted);font-weight:750;font-size:.92rem;"}, ["Streak: 0 / 3"]))
      ]),
      el("button", {class:"pill primary", type:"button", id:"nextFind"}, ["New number"])
    ]);

    var grid = el("div", {style:"display:grid;grid-template-columns: repeat(5, minmax(0,1fr));gap:10px;"});
    grid.style.gridTemplateColumns = (maxNum <= 5) ? "repeat(3, minmax(0,1fr))" : "repeat(5, minmax(0,1fr))";

    pool.forEach(function(n){
      var b = el("button", {
        type:"button",
        class:"card",
        style:"justify-content:center; padding:16px; text-align:center; min-height:68px; font-size:1.35rem; font-weight:980;"
      }, [String(n)]);
      b.addEventListener("click", function(){
        if(n === targetNumber){
          shimmer(b);
          streak += 1;
          if(streak >= 3){
            addSessionStar();
            streak = 0;
          }
          targetNumber = pool[Math.floor(Math.random()*pool.length)];
          prompt.querySelector("div div").textContent = "Find: " + targetNumber;
          prompt.querySelector("div div + div").textContent = "Streak: " + streak + " / 3";
        }else{
          shake(b);
          streak = 0;
          prompt.querySelector("div div + div").textContent = "Streak: " + streak + " / 3";
        }
      });
      grid.appendChild(b);
    });

    body.appendChild(prompt);
    body.appendChild(grid);
    body.appendChild(el("div", {style:"color:var(--muted);font-weight:750;font-size:.92rem;"}, [
      "Tip: Start on Easy (1‚Äì5). Move to Hard for 1‚Äì10."
    ]));

    var nextBtn = document.getElementById("nextFind");
    if(nextBtn){
      nextBtn.addEventListener("click", function(){
        targetNumber = pool[Math.floor(Math.random()*pool.length)];
        prompt.querySelector("div div").textContent = "Find: " + targetNumber;
      });
    }
  }

  // Launch buttons
  var launchCount = document.getElementById("launchCount");
  var launchFindNum = document.getElementById("launchFindNum");
  if(launchCount) launchCount.addEventListener("click", startCount);
  if(launchFindNum) launchFindNum.addEventListener("click", startFindNumber);

  // Reset button
  if(resetBtn){
    resetBtn.addEventListener("click", function(){
      resetSession();
      if(currentActivity === "count") startCount();
      else if(currentActivity === "find") startFindNumber();
      else {
        clearBody();
        setHeader("Select an activity", "Pick a game above to start.");
        body.appendChild(el("div", {style:"padding:12px;border-radius:18px;border:1px dashed rgba(31,120,255,.28);color:var(--muted);font-weight:750;"}, [
          "Tip: Start on Easy. When it‚Äôs comfortable, switch to Hard for 1‚Äì10."
        ]));
      }
    });
  }
})();
</script>
</body>
</html>
